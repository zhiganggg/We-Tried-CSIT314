{% extends "base.html" %} {% block title %}My Activities{% endblock %} {% block
content %}
<section class="jumbotron text-center">
  <div class="container">
    <h1 class="jumbotron-heading">My Activities</h1>
    <p class="lead text-muted">
      Manage past enquiries, potential shortlisted property & more.
    </p>
  </div>
</section>
<div class="album py-5 bg-light">
  <div class="container">
    <ul class="nav nav-underline mb-3">
      <li class="nav-item">
        <a class="nav-link disabled">Enquiries</a>
      </li>
      <li class="nav-item">
        <a class="nav-link active disabled"
          >Shortlisted {{current_user.shortlists|length}}
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled">Saved Searches</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled">Hidden</a>
      </li>
    </ul>
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
      {% for shortlist in current_user.shortlists %}
      <div class="col">
        <div class="card shadow-sm">
          <a
            title="{{shortlist.listing.title}}"
            href="/listing/{{shortlist.listing.title.replace(' ', '-')|lower}}-{{shortlist.listing.id}}"
            class="nav-link"
            ><img
              class="card-img-top"
              src="{{shortlist.listing.photo}}"
              style="width: 100%; height: 225px; display: block"
            />
          </a>
          <div class="card-body">
            <div class="row">
              <div class="col">
                <div class="listing-title">
                  <h6>
                    {% if shortlist.listing.availability|string ==
                    "Availability.UNAVAILABLE" %}<span style="color: red"
                      >Sold</span
                    >
                    &middot {% endif %} {{shortlist.listing.title}}
                  </h6>
                </div>
                <div class="listing-details" style="font-size: 14px">
                  <div class="listing-location">
                    {{shortlist.listing.location}}
                  </div>
                  <div class="listing-price">
                    S$ {{'{:,.0f}'.format(shortlist.listing.price|int)}}
                  </div>
                  <div class="listing-features">
                    {{shortlist.listing.bedrooms}} Bedrooms &middot
                    {{shortlist.listing.bathrooms}} Bathrooms &middot
                    {{shortlist.listing.size_sqft}} sqft &middot S$
                    {{'{:,.2f}'.format(shortlist.listing.price/shortlist.listing.size_sqft)}}
                    psf
                  </div>
                  <div class="listing-type d-flex justify-content-between">
                    <span
                      class="badge bg-success-subtle border border-light-subtle text-light-emphasis"
                      >{{shortlist.listing.type}}</span
                    >
                    <span class="text-muted"
                      >{{shortlist.date_created.strftime('%d-%b-%y')}}</span
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
  {% endblock %}
</div>
